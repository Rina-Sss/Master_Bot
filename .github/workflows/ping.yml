name: Keep app awake

on:
  schedule:
    - cron: '*/15 * * * *' # каждые 15 минут
  workflow_dispatch: {}    # возможность запускать вручную

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping app health endpoint
        run: |
          set -e
          URL="https://master-bot-imk8.onrender.com"
          # делаем запрос, но не помешаем workflow провалиться, если сайт временно недоступен
          curl -fsS "$URL" || echo "Ping failed (ignored) at $(date)"
